# R√©duction de l'impact √©cologique du service num√©rique d'un site de lecture en ligne

## Choix du Sujet
Notre utilisation personnelle de services de lecture et d'√©criture en ligne constitue une valeur moyenne horaire de 20h/semaine. Ce qui est une grosse partie de notre consommation en ligne, non pas pour la consommation √©lectrique mais la dur√©e d'utilisation. Nous avons constat√© :
- [Une augmentation significative d'utilisation de services de lecture en ligne durant la p√©riode COVID de lecteurs(ices) en ligne.](https://www.sne.fr/numerique-2/barometre-sur-les-usages-du-livre-numerique/)
- [15 millions d'oeuvres √©crites sur le site Archive of our Own](https://ao3demographicssurvey2024.tumblr.com/post/768677035317018624/the-ao3-demographics-survey-2024-was-an-unofficial)


## Utilit√© Sociale
- Pour la culture -> les livres alimentent depuis tr√®s longtemps la culture, les meurs et la morale
- Pour la connaissance -> depuis longtemps les livres permettent de partager la connaissance et d'apprendre, d'√©tudier divers sujets
- Pour le loisir et le bien-√™tre -> les livres peuvent repr√©senter une √©chappatoire √† la d√©pression ou √† un mal-√™tre quelconque, donner des conseils de vie, permettre de relativiser sur notre existence, ou aider avec la confiance en soi
- Pour l'expression de soi et des autres -> les livres permettent de s'exprimer, de d√©couvrir diff√©rentes opinions, d'en discuter avec les autres, d'alimenter des d√©bats
- Pour la libert√© d'expression -> pour notre ch√®re constitution
- Pour le climat -> r√©duit l'utilisation de papier, et utilise peut de consommation √©l√©ctrique comparer √† d'autres divertissements

## Effets de la num√©risation
### D√©mocratie technique
1. Pour les auteurs
- Communautaire
- √âvite l'√©dition ch√®re (contourne les maisons d'√©ditions)
- Avoir des avis rapidement pour les jeunes auteurs
- D√©mocratisation de l'√©criture -> ouverte √† plus de monde
2. Pour les lecteurs
- Permettre d'avoir plus de choix
- D√©couvrir plus facilement de nouveaux auteurs gr√¢ce aux avis
- Pouvoir trier, filtrer et donc trouver ce qui nous int√©resse plus facilement

### Substitutions:
- Substituer le papier par le digital
- Manuscripts papier vers le digital, beaucoup moins de gaspillage de papier pour op√©rer des changements dans les textes mais √† voir si c'est rentable d'un point de vue √©cologique
- Permet d'√©viter d'imprimer des manuscripts vers les maisons d'√©ditions puis qu'on poste directement en ligne

### Effet rebond:
- Avoir une copie papier et une copie num√©rique
- Plus facile de lire des livres -> donc on en consomme plus

## Sc√©narios d‚Äôusage et d‚Äôimpacts

Nous faisons l‚Äôhypoth√®se qu‚Äôune personne venant sur Wattpad est l√† pour d√©couvrir, chercher, lire ou √©crire des histoires. Pour le temps limit√© de la requ√™te, nous estimerons que l‚Äôutilisateur ne lis ou √©crit qu‚Äôun seul chapitre, en moins de quelques minutes (ce n‚Äôest √©videment pas un reflets de la r√©alit√©).

Nous ferons aussi la distinction entre la recherche et la lecture de livre dans deux s√©narios distincts ainsi qu‚Äôun seul sc√©nario pour l‚Äô√©criture et un pour l'aspect communautaire avec l‚Äô√©crit d‚Äôun commentaire.

### Sc√©nario 1 : Lire une histoire mise en favorite
1. Le lecteur se connecte
2. Le lecteur va sur son profil
3. Le lecteur lit la nouvelle publication d‚Äôune histoire
### Sc√©nario 2 : Chercher une histoire avec diff√©rents filtre
1. Le lecteur va sur la page d‚Äôaccueil
2. Le lecteur tape sa recherche dans la barre
3. Le lecteur filtre sur sa recherche
4. Le lecteur scroll (ne peut pas le simuler sur l‚Äôecoindex)
5. Le lecteur clique sur une histoire
### Sc√©nario 3 : √âcrire une histoire
1. L‚Äôauteur se connecte
2. L‚Äôauteur va sur la page d‚Äô√©criture
3. L‚Äôauteur remplit son chapitre
4. L‚Äôauteur publit son histoire
### Sc√©nario 4 : √âcriture d‚Äôun commentaire
1. L‚Äôauteur se connecte
2. L‚Äôauteur consulte une de ses histoire favorite
3. L‚Äôauteur laisse un j‚Äôaime
4. L‚Äôauteur publie un commentaire

## R√©sultats des sc√©nario sur les impacts environnemental avec GreenIT

L'EcoIndex d'une page (de A √† G) est calcul√© en fonction du positionnement de cette page parmi les pages mondiales concernant (voir sources) :

Nous avons choisi de comparer l'impact des sc√©narios sur les services de lecture et √©criture en ligne. Nous avons choisi de faire une moyenne selon nos observations des mesures sur la classe finale, en prenant principalement en compte ce qui va √™tre le plus utilis√© (la lecture d'un chapitre)

| **Service** | **Score sur 100** | **Classe** | **D√©tails des mesures**             |
|-------------|-------------------|------------|-------------------------------------|
| Wattpad     | ~20                | ~F          | [...](benchmark/Wattpad/wattpad.md) |
| AO3         | ~60                | ~C          | [...](benchmark/AO3/ao3.md)         |
| Atelier des auteurs| ~40         | ~D 		 | [...](atelierdauteur.md)            

__Tab.1__: Mesure de l'√©coindex moyen des services de lecture et √©criture en ligne


## Mod√®le √©conomique
√âcriture et lecture en ligne : oligopole~concurrence / des produits diff√©renci√©s  (on ne retrouve pas les m√™me oeuvre sur les m√™me plateforme) mais homog√®nes au niveaux des services
On peut soit:
- se diff√©rencier avec notre esprit ‚Äúsobre‚Äù sur la concurrence et instaurer de la qualit√© √† travers des services, mais il faut trouver plus de fond
- Proposer des changements Wattpad pour qu‚Äôils r√©duisent leur consommation donc qu‚Äôils deviennent plus sobre ou de les convaincre d‚Äôavoir un service pour l‚Äôenvironnement au sein de leur entreprise ‚Æû am√©liorer la qualit√© ? / vente de formations ? / ajout de donations ?
- Autre pratique de publicit√©s qui ne se base pas sur les donn√©es des utilisateurs mais les tag d‚Äôune histoire pour savoir sur quoi s‚Äôint√©resse une personne ‚Æû des publicit√©s √† g√©n√©rer que sur des tags bien pr√©cis / plus facile de les choisir

Masse salariale simplifi√©e ‚Æû montant unitaire ‚Æû quantit√© n√©cessaire pour financer un salaire
Salaire m√©dian 3569‚Ç¨

‚Æû ateliers des auteurs / formation vendu √† 180‚Ç¨ / ans ‚áí  ~238 formations vendu pour un salaire
‚Æû Ao3 campagne de don 2024 / https://archive.transformativeworks.org/admin_posts/30235 : 214 698,86 US$ par 6 955 personnes dans 81 pays diff√©rents ‚áí ~0,2 de la somme par mois de donation pour un salaire ‚áí 5 personnes
‚Æû Wattpad : 
	abonnement premium / qualit√© donn√©e par les √©diteurs dans le premium gratuite √† lire par mois / fonctionnalit√©s suppl√©mentaire dans l‚Äôabonnement ‚áí ~6‚Ç¨ par mois 
	/ wattpad coins (token)  / si l‚Äôhistoire est finie depuis longtemps, pay√© pour la lire / 
    / publicit√©s et tracking l‚Äôauteur la rend payante, en ayant un contrat avec comission sur la plateforme
    / Publicit√© pour l‚Äôauteur √† rajout√© sur ces livres ‚áí 
    / token / wattpadcoins

Publicit√© par les tags ‚Æû moins de ciblage sur la personne mais sur les tags d‚Äôune histoire, avec une √©quipe int√©gr√©e pour les publicit√©s (qu‚Äôils aient le choix sur les publicit√©s)
‚Æû leur demander d‚Äôam√©liorer leur recherches
‚Æû Faire de la formation d‚Äô√©criture ‚Æû des ateliers avec des auteurs agr√©ger sur wattpad ayant d√©j√† un contrat avec eux
‚Æû Un syst√®mes de donations ? difficile vu que ce sont des jeunes sur la plateformes
‚Æû Plusieurs types de warning et tags comme Ao3 ‚Æû plus un probl√®me d‚Äô√©thique que d‚Äôenvironnement
‚Æû Subvention pour la culture et les livres
‚Æû crowdfounding ‚Æû pour l‚Äôauteur pour continue √† √©crire ‚Æû une partie qui est redonn√©e √† la plateforme ‚Æû si aucune publication de chapitre apr√®s un certain temps (parce que pas de don, ou autre) pendant trop de temps ‚Üí histoire d√©clar√©e tenue en otage donc plus la possibilit√© d‚Äôutiliser ce moyen de financement jusqu‚Äô√† retrouver un rythme de publication correcte

## Maquette de l'interface et √©chantillon de donn√©es

Les ressources Web poss√©dant une repr√©sentation sur notre application seront de quatre types :
- La page principale comporant la liste des oeuvres et un moyen de faire une recherche dans cette liste (ayant pour chemin `/`)
- La page d'une oeuvre (ayant pour chemin `/work/{work_id}`)
- La page de profile d'un auteur (ayant pour chemin `/author/{author_id}`)
- La page d'un chapitre d'une oeuvre (ayant pour chemin `/work/{}`)

![Maquette des quatre types de page](./benchmark/GL03_Maquettes.png)
__Fig.1__: Maquette de l'interface du prototype

Pour des raisons de respect des droits d'auteurs, nous utilisons des donn√©es g√©n√©r√©es (avec [`dummy-json`](https://dummyjson.com)).
Bien que fictives, ces donn√©es correspondent √† la structure des services concurrents : les articles comportent un titre possiblement long, un auteur et une rubrique (voir [mod√®le de donn√©es](https://github.com/UTT-GL03/Wattpad/blob/main/frontend/src/assets/sample_data.hbs)). 

## Impl√©mentation du sc√©nario prioritaire

### √âtape de prototypage : Donn√©es charg√©es de mani√®re statique

Pour cette premi√®re version du prototype (`v1.1.0`) :

- l'√©chantillon de donn√©es est encore charg√© dans le code de mani√®re statique,
- les fonctionnalit√©s impl√©ment√©es ne sont que celles n√©cessaires pour suivre le sc√©nario prioritaire ("Lire une oeuvre").

Ce sc√©nario n√©cessite de pouvoir naviguer entre trois types de page : la page des titres, les pages des oeuvres et les pages des chapitres.

### Page des titres

Nous avons d√©velopp√© les page des titres, des oeuvres et des chapitres (cf. Fig.2, Fig.3 et Fig.4) pour qu'elles affichent les √©chantillons de donn√©es sous une forme proche de ce que pr√©voyait la maquette.

![Prototype de la page des titres](./benchmark/Screenshot_Page_Titres.png)
__Fig.2__: Prototype de la page des titres.

![Prototype de la page d'oeuvre](./benchmark/Screenshot_Page_Oeuvre.png)
__Fig.2__: Prototype de la page d'oeuvre.

![Prototype de la page de chapitre](./benchmark/Screenshot_Page_Chapitre.png)
__Fig.2__: Prototype de la page de chapitre.

Pour l'instant, nous avons choisi un *framework* de mise en page minimaliste ([*PicoCSS*](https://picocss.com)).
Dans la suite du projet, nous verrons si l'impact environnemental du passage √† un *framework* de mise en page plus puissant (comme [*Bootstrap*](https://getbootstrap.com)) est acceptable.

Dans l'√©tat actuel du prototype, il est possible d'avoir une premi√®re id√©e de l'impact environnemental du *frontend*.
Bien entendu, il manque encore le chargement dynamique des donn√©es, mais nous pouvons d√©j√† √©valuer l'impact de l'affichage des donn√©es et du *framework* (Tab.2).

|   | EcoIndex| GES (gCO2e) | Taille du DOM | Requ√™tes | Taille de la page (ko)
|---|--------:|------------:|--------------:|---------:|---------------------:
| 1. Consulter les titres des oeuvres					   | 70 B üü© | 1,59 | 200 | 27 | 6799
| 2. Ouvrir une oeuvre 			   | 92 A üü¶ | 1,15 |  51 | 19 | 4
| 3. Ouvrir un chapitre	| 93 A üü¶ | 1,14 | 37 | 19 | 4
| 4. Retourner a la page de l'oeuvre 		| 92 A üü¶ |  1,15|  51 | 19 | 4
| 5. Ouvrir un autre chapitre 		| 93 A üü¶ |  1,14|  37 | 19 | 4

__Tab.2__: √âvaluation de l'impact du sc√©nario "Lire une oeuvre" dans le prototype v1.1.0. 

Ces estimations bien qu'artificiellement basses (puisque les donn√©es sont charg√©es de mani√®re statique) sont tout de m√™me √† comparer avec celles des services concurrents (Tab.1) vues pr√©c√©demment.

Si nous arrivons √† maintenir les √©missions en dessous de 1,5 g par page pour notre produit minimum viable, nous pouvons donc esp√©rer proposer une alternative moins impactante que AO3 et jusqu'√† deux fois moins impactante que Wattpad.

### √âtape de prototypage : Donn√©es statiques charg√©es de mani√®re dynamique

Pour cette nouvelle version du prototype (`v1.2.0`), les donn√©es (toujours statiques) sont d√©sormais charg√©es par le *frontend* √† travers le r√©seau imm√©diatement apr√®s un premier affichage √† vide.
Ce comportement, plus r√©aliste, n'a pour effet qu'une requ√™te suppl√©mentaire par page affich√©e. 

Concernant l'√©valuation de l'impact environnemental du sc√©nario, par rapport au tableau pr√©c√©dent (cf. Tab.2), on remarque que l'√©coindex est l"=√©g√®rement plus bas partout sauf pour le premier chargement de page. Ce qu'on gagne en ne chanargeant pas les donn√©es directement au chargement de la page, on le perd en les chargeant au fur et √† mesure.
|   | EcoIndex| GES (gCO2e) | Taille du DOM | Requ√™tes | Taille de la page (ko)
|---|--------:|------------:|--------------:|---------:|---------------------:
| 1. Consulter les titres des oeuvres					   | 89 A üü¶ | 1,22 | 16 | 3 | 497,57
| 2. Ouvrir une oeuvre 			   | 83 A üü¶ | 1,34 |  46 | 1 | 1543,388
| 3. Ouvrir un chapitre	| 84 A üü¶ | 1,32 | 36 | 1 | 1543,388
| 4. Passer au chapitre suivant 		| 93 A üü¶ |  1,14|  38 | 0 | 0

__Tab.3__: √âvaluation de l'impact du sc√©nario "Lire une oeuvre" dans le prototype v1.2.0. 

## Mesures de la consommation √©nerg√©tique lors du passage √† l'√©chelle

Maintenant que notre prototype est r√©aliste en termes de nombre de requ√™tes, nous pouvons simuler les effets du "passage √† l'√©chelle". 

Dans notre cas, l'augmentation de la quantit√© des donn√©es √† traiter viendra de l'augmentation du nombre d'utilisateurs, qu'ils soient auteurs ou non (puisqu'il faut g√©rer leur compte), du nombre d'oeuvres archiv√©es, ainsi que de  la quantit√© de commentaires.
La gestion de ces donn√©es, bien que co√ªteuse du point de vue environnemental nous semble contribuer grandement √† l'utilit√© sociale de la plateforme, que cela soit sur l'aspect d'archivage d'oeuvres ou l'aspect communautaire des interactions entre auteurs et lecteurs.
Par cons√©quent notre projet continuera de g√©rer ces donn√©es.

Nous avons mis 100 auteurs et entre 100 et 200 oeuvres pour le passage √† l'√©chelle.

### √âvolution de l'EcoIndex lors du passage √† l'√©chelle

Produites d√©sormais de mani√®re automatique lors de l'int√©gration continue, les mesures n√©cessaires √† la production de l'EcoIndex, [avant](https://github.com/UTT-GL03/QVOTIDIE/actions/runs/19211909192/artifacts/4512754147) et [apr√®s](https://github.com/UTT-GL03/QVOTIDIE/actions/runs/19224015758/artifacts/4516341581) la simulation du passage √† l'√©chelle retraduisent bien (cf. Tab.6) l'augmentation du poids des t√©l√©chargements, mais aussi de l'augmentation du nombre d'√©l√©ments de la page des titres.

|   | EcoIndex| GES (gCO2e) | Taille du DOM | Requ√™tes | Taille de la page (ko)
|---|--------:|------------:|--------------:|---------:|---------------------:
| 1. Consulter les titres des oeuvres 					   | <del>89 A üü¶</del><br/>35 E üü• | <del>1,22</del><br/>2,3 | <del>16</del><br/>1468 | <del>3</del><br/>5 | <del>497,57</del><br/>10280,453
| 2. Ouvrir une oeuvre 			   | <del>83 A üü¶</del><br/>75 B üü© | <del>1,34</del><br/>1,5 | <del>46</del><br/>60 | 1 | <del>1543,388</del><br/>9781,171
| 3. Ouvrir un chapitre	| <del>84 A üü¶</del><br/>76 A üü¶ | <del>1,32</del><br/>1,48 | <del>36</del><br/>45 | 1 | <del>1543,388</del><br/>	9781,171
| 4. Passer au chapitre suivant 		| 93 A üü¶ |  1,14 | <del>38</del><br/>47 | 0 | 0

__Tab.4__: Effet du passage √† l'√©chelle sur l'impact du sc√©nario "Lire une oeuvre" dans le prototype v1.2.1.

On pourrait s'√©tonner que la baisse de l'EcoIndex soit beaucoup plus forte pour la page des titres que pour la page d'un article alors que l'augmentation du poids des t√©l√©chargements est analogue.
Ceci s'explique par le fait que l'EcoIndex vise √† √©valuer un impact global, incluant une part de la fabrication et de la fin de vie des terminaux, et que cette part augmente avec le nombre d'√©l√©ments de la page.
Pour √©valuer plus pr√©cis√©ment l'impact de la consultation elle-m√™me nous utiliserons un autre outil de mesure : GreenFrame.

## Mesure de la consommation √©nerg√©tique par pages et optimisation

### Mesure de la consommation √©nerg√©tique li√©e √† la consultation

Le logiciel GreenFrame est capable d'estimer, pour les diff√©rents composants de l'architecture, la consommation √©nerg√©tique :

- du CPU (√† partir du temps de calcul),
- de la m√©moire vive (√† partir de la taille des donn√©es m√©moris√©es),
- du disque (√† partir de la taille des donn√©es lues et √©crites),
- du r√©seau (√† partir de la taille des donn√©es re√ßues et envoy√©es),
- pour le navigateur uniquement, de l'√©cran (√† partir du temps d'ex√©cution du sc√©nario).

 (Consulter les titres d'oeuvres)                 | cpu (Wh)   | mem (Wh)   | disk (Wh) | network (Wh)       | screen (Wh) | total (Wh)   |
| ------------------ | ---------- | ---------- | --------- | ------------------ | ----------- | ------------ | 
| Navigateur         | 0.022     | 0.00011   | 0.0       | 0.057 | 0.11 | 0.19  |
| Serveur Web        | 0.000015   | 0.0000046   | 0.0       | 0.057 | 0.0                | 0.057 |

 (Consulter une oeuvre)                 | cpu (Wh)   | mem (Wh)   | disk (Wh) | network (Wh)       | screen (Wh) | total (Wh)   |
| ------------------ | ---------- | ---------- | --------- | ------------------ | ----------- | ------------ | 
| Navigateur         | 0.0014     | 0.000062   | 0.0       | 0.057 | 0.68 | 0.13  |
| Serveur Web        | 0.000015   | 0.0000029   | 0.0       | 0.057 | 0.0                | 0.057 |

 (Consulter un chapitre)                 | cpu (Wh)   | mem (Wh)   | disk (Wh) | network (Wh)       | screen (Wh) | total (Wh)   |
| ------------------ | ---------- | ---------- | --------- | ------------------ | ----------- | ------------ | 
| Navigateur         | 0.0016     | 0.000062   | 0.0       | 0.057 | 0.69 | 0.13  |
| Serveur Web        | 0.000014   | 0.0000029   | 0.0       | 0.057 | 0.0                | 0.057 |

__Tab.5__: Estimation de la consommation √©nerg√©tique de la consultation de chaque type de page.

Par rapport √† ce que pouvait laisser penser l'EcoIndex, les r√©sultats (cf. Tab.5) indiquent que la consommation due √† la consultation de l'index (avec ses 200 titres) est √©quivalente √† celle d'un chapitre. Autrement dit, l'affichage en lui m√™me de ces donn√©es en grand nombre est n√©gligeable par rapport √† la transmission de ces donn√©es sur le r√©seau.

Par contre, l'affichage de ces donn√©es a bien un impact indirect : en augmentant le temps de lecture, il a un effet d√©terminant sur le temps d'√©clairage de l'√©cran. 
De fait, les trois √©l√©ments ayant le plus d'impact (√† peu pr√®s √† √©galit√©, le reste √©tant n√©gligeable), sont ici : 

- l'√©cran du client,
- le r√©seau du client,
- le r√©seau du serveur.

### Effet de l'introduction d'une base de donn√©es

Afin de r√©duire l'impact √©n√©rg√©tique du r√©seau, nous stockons d√©sormais les donn√©es de l'application (`v2.0.0`) dans une base de donn√©es (*CouchDB*).
Cette √©volution nous permet, lors de l'affichage d'une oeuvre, de charger une seule oeuvre plut√¥t que 200.

|                    | cpu (s)    | mem (B) | disk (B) | screen (s) | network (B) | total (Wh)   |
| ------------------ | ---------- | ---------- | --------| -------- | ----------- | ------------ |
| Navigateur | <del>0,0014</del><br/><add>0,0013</add>|  <del>0,000062</del><br/><add>0,000058</add> | 0,0 | <del>0,057</del><br/><add>0,078</add> | <del>0,68</del><br/><add>0,067</add> | <del>0,13</del><br/><add>0,15</add>  |
| Serveur Web | <del>0,000015</del><br/><add>0,000019</add> |  <del>0,0000029</del><br/><add>0,0000029</add> | 0,0  | <del>0,057</del><br/><add>0,078</add> | 0,0 | <del>0,057</del><br/><add>0,078</add> |
| Base de donn√©es | <del>0,0</del><br/><add>0,00066</add> |  <del>0,0</del><br/><add>0,000067</add> | 0,0 | 0,0| 0,0 | <del>0,0</del><br/><add>0,00073</add> |

__Tab.6__: Effet sur l'utilisation des ressources de l'introduction d'une base de donn√©es dans l'application, lors de la consultation d'une oeuvre.

Cette am√©lioration (cf. Tab.6) est ne semble pas causer de changement significatifs. On peut cependant noter une utilisation des ressources par la base de donn√©es n√©gligeable except√© une consommation tr√®s importante de m√©moire vive (30 fois la quantit√© n√©cessaire pour le serveur Web).

 (Consulter les titres d'oeuvres)              | cpu (Wh)   | mem (Wh)   | disk (Wh) | network (Wh)       | screen (Wh) | total (Wh)   |
| --------------- | ---------- | ---------- | --------- | ------------------ | ----------- | ------------ | 
| Navigateur      | <del>0,022</del><br/>0,031     | <del>0,00011</del><br/>0,00014   | 0,0       | <del>0,057</del><br/>0,078 | <del>0,11</del><br/>0,13 | <del>0,19</del><br/>0,24  |
| Serveur Web     | <del>0,000015</del><br/>0,000019 | <del>0,0000046</del><br/>0,0000053 | 0,0 | <del>0,057</del><br/>0,078 | 0,0 | <del>0,057</del><br/>0,078 |
| Base de donn√©es | <del>0</del><br/>0,0012 | <del>0</del><br/>0,00012 | 0,0 | <del>0</del><br/>0,00000013 | 0,0 | <del>0</del><br/>0,0013 |

| (Consulter un chapitre)             | cpu (Wh)   | mem (Wh)   | disk (Wh) | network (Wh)       | screen (Wh)        | total (Wh) |
| --------------- | ---------- | ---------- | --------- | ------------------ | ------------------ | ---------- | 
| Navigateur      | <del>0,0016</del><br/>0,0013 | <del>0,000062</del><br/>0,000058 | 0,0 | <del>0,057</del><br/>0,078 | 0,69 | <del>0,13</del><br/>0,15 |
| Serveur Web     | <del>0,000014</del><br/>0,000017 | <del>0,0000029</del><br/>0,0000029 | 0,0 | <del>0,057</del><br/>0,080 | 0,0 | <del>0,057</del><br/>0,080 |
| Base de donn√©es | <del>0</del><br/>0,00059 | <del>0</del><br/>0,000067 | 0,0 | 0,0 | 0,0 | <del>0</del><br/>0,00065 |

__Tab.7__: Effet sur la consommation √©nerg√©tique de l'introduction d'une base de donn√©es dans l'application, lors de la consultation des titres d'oeuvres (premier tableau) et d'un chapitre (second tableau).

On peut remarquer que l'ajout de la base de donn√©es est relativement n√©gligeable puisqu'elle consomme peut et de semble pas causer de changements significatifs.

Il est possible que nos donn√©es soient en trop petit nombre pour voir un changement significatif prendre place.

### Strat√©gie de limitation du nombre d'√©l√©ments affich√©s

Pour donner acc√®s sur √† un nombre limit√© d'oeuvres sur la page d'accueil, nous d√©cidons de ne faire apparaitre que les 5 oeuvres les plus r√©centes. Le reste sera accessible en cliquant sur un bouton "Suivant". Pour cela, il faut indexer pr√©alablement les oeuvres en fonction de leur date et heure de publication en ligne.

| (Consulter les titres d'oeuvres)                | cpu (Wh)   | mem (Wh)   | disk (Wh) | network (Wh)       | screen (Wh) | total (Wh)   |
| --------------- | ---------- | ---------- | --------- | ------------------ | ----------- | ------------ | 
| Navigateur      | <del>0,031</del><br/>0,00081 | <del>0,00014</del><br/>0,000044 | 0,0 | <del>0,078</del><br/>0,0028 | <del>0,13</del><br/>0,068 | <del>0,24</del><br/>0,071 |
| Serveur Web     | <del>0,0000190</del><br/>,0000036 | <del>0,0000053</del><br/>0,0000028 | 0,0 | <del>0,078</del><br/>0,0028 | 0,0 | <del>0,078</del><br/>0,0028 |
| Base de donn√©es | <del>0,0012</del><br/>0,00088 | <del>0,00012</del><br/>0,000064 | 0,0 | <del>0,00000013</del><br/>0,000057 | 0,0 | <del>0,0013</del><br/>0,0010 |

__Tab.8__ : Effet sur la consommation √©nerg√©tique du chargement progressif (√† la demande) lors de la consultation des titres des oeuvres.

L'impl√©mentation de la strat√©gie en question a l'effet attendu (cf. Tab.10) : la consommation √©lectrique de l'ensemble des composants se retrouve r√©duite quasiment √† celle de l'√©cran.

On pourrait bien-s√ªr opposer le fait que, d√®s lors, si l'on souhaitait afficher l'ensemble des √©l√©ments, la consommation serait sup√©rieure √† celle qu'elle √©tait avant la mise en place du chargement progressif.
Cependant, la centaine de clics qui serait n√©cessaire rend ce sc√©nario d'utilisation peu probable, d'autant plus que les oruvres les plus r√©cents sont affich√©s en premier.

Pour r√©sumer, le passage √† l'√©chelle avait entra√Æn√© une augnmentation de la consommation √©lectrique, mais par des techniques simples de base de donn√©es (s√©lection du document pertinent, projection des attributs n√©cessaires et pagination des r√©sultats), la consommation √©lectrique est revenue a ses valeurs initiales. En l'√©tat, la consommation √©lectrique est constante par rapport √† la volum√©trie des articles de oeuvres, et √† un niveau si bas que la part due au CPU, √† la m√©moire et au r√©seau est n√©gligeable par rapport √† celle de l'√©cran.

L'enjeu dans les am√©liorations √† venir de l'application sera de veiller √† conserver cette sobri√©t√©.


## Am√©lioration ?

Nous souhaitons maintenant essayer d'ajouter une fonctionnalit√© recherch√©e par les utilisateurs, √† savoir la possibilit√© de voir la liste des oeuvres sur un th√®me pr√©cis, et donc la visualisation par tag.
Pour cela, nous avons cr√©√© une seconde branche "tag_browsing" dans laquelle la fonctionnalit√© a √©t√© d√©velopp√©e et nous allons maintenant comparer la consommation du site avec cette nouvelle fonctionnalit√© compar√©e √† celle du site de la branche "main".

Voici a quoi cela ressemble sur le site une fois impl√©ment√© : 

![Fonctionnalit√© de choix de tag](./benchmark/Amelioration.png)

__Fig.5__: Fonctionnalit√© de choix de tag


| (Consulter les titres d'oeuvres)                | cpu (Wh)   | mem (Wh)   | disk (Wh) | network (Wh)       | screen (Wh) | total (Wh)   |
| --------------- | ---------- | ---------- | --------- | ------------------ | ----------- | ------------ | 
| Navigateur      | <del>0,00081</del><br/>0,0019 | <del>0,000044</del><br/>0,000049 | 0,0 | <del>0,0028</del><br/>0,0029 | 0,068| <del>0,071</del><br/>0,073 |
| Serveur Web     | <del>0,0000036</del><br/>0,0000034 | <del>0,0000028</del><br/>0,0000029 | 0,0 | 0,0028 | 0,0 | <del>0,0028</del><br/>0,0028 |
| Base de donn√©es | <del>0,00088</del><br/>0,0011 | <del>0,000064</del><br/>0,000067 | 0,0 | <del>0,000057</del><br/>0,00015 | 0,0 | <del>0,0010</del><br/>0,0013 |

__Tab.9__ : Effet sur la consommation √©nerg√©tique de l'ajout d'un affichage par tag lors de la consultation des titres d'une oeuvre.


On peut remarquer une petite augmentation, mais pas aussi grande qu'on aurait pu le penser. Nous pensons qu'il est l√©gitime d'ajouter cette fonctionnalit√© d√©finitivement au projet au vu de son importance fonctionnelle et de son co√ªt faible.

Cependant, on peut se demander si cette fonctionnalit√© ne causerait pas une augmentation du temps d'√©cran puisqu'en trouvant un contenu qui plait on reste plus longtemps, et donc une augmentation des ressources utilis√©es. Nous pensons que c'est un risque probable, mais compens√© par la diminution du temps d'√©cran n√©cessaire pour trouver le contenu qui nous plairait si cette fonctionnalit√© n'existait pas. 


## Bilan et perspectives


